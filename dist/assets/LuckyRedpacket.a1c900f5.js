import{d as b,s as D,J as d,o as r,k as o,F as _,l as C,c as L,w as f,ae as R,e as B,X as m,a as k,t as E,T,_ as F}from"./index.491723dd.js";import{b as V,E as N}from"./index.a2b4812c.js";import{u as $}from"./el-icon.7d57c07f.js";import{_ as z}from"./VPageControl.vue_vue_type_script_setup_true_lang.5cc0feb8.js";import{g as A}from"./getRandom.877955b1.js";import{l as I}from"./luckyDrawForm.83d7ef44.js";import"./runtime.d3cdd82d.js";import"./VSwitchButton.9de63556.js";import"./focus-trap.129238ac.js";const O=["onClick"],P={key:0,class:"redpacket_content box flex-center p-3 text-black write-vertical-left write-orient-upright w-[70%] h-[90%] !rounded-lg shadow-2xl font-semibold text-lg 2xl:text-xl"},S=b({__name:"LuckyRedpacket",setup(q){const{pageData:a}=D(V());let t=d(Array(8).fill("")),l=d(!1);function v(e){t.value[e]===""&&(t.value[e]=a.value.luckyDraw.proType==I.PROEQUAL?y():x()),t.value.every(c=>c)&&(l.value=!0)}function y(){return a.value.luckyDraw.data[A(0,a.value.luckyDraw.data.length-1)].name}let n,h=a.value.luckyDraw.data.map(e=>e.value),s,u;function x(){return s=Math.random(),n=0,u=h.findIndex(e=>(n+=+e,s<n)),a.value.luckyDraw.data[u].name}function g(){l.value=!1,t.value=t.value.map(e=>"")}return(e,c)=>{const w=N;return r(),o(_,null,[(r(!0),o(_,null,C(t.value,(i,p)=>(r(),o("div",{class:"redpacket flex-center box p-5 h-50vh w-25vw",key:`${p}redpacket`,onClick:J=>v(p)},[k(T,{appear:"","enter-active-class":"animate__animated animate__flip"},{default:f(()=>[i?(r(),o("div",P,E(i),1)):m("",!0)]),_:2},1024)],8,O))),128)),l.value?(r(),L(w,{key:0,type:"primary",size:"large",round:"",icon:B($),onClick:g,class:"absolute left-[1/2] top-[1/2] -translate-x-1/2 -translate-y-1/2 z-20 !p-5"},{default:f(()=>[R("\u5237\u65B0")]),_:1},8,["icon"])):m("",!0),k(z,{"right-tip":"\u5927\u8F6C\u76D8","right-path":"turntable"})],64)}}});const W=F(S,[["__scopeId","data-v-abe0434f"]]);export{W as default};
