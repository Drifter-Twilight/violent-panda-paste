import{q as d,aF as $e,aG as Ae,e as t,ax as Be,J as k,aK as Re,H as ge,Y as q,d as Ee,aL as Oe,aB as He,n as be,aM as Q,R as Ke,Q as Z,U as L,V as je,M as Ue,N as We,O as Ye,o as f,k as w,X as m,F as ee,x as h,r as K,b as P,c as x,w as $,z as j,C as te,a as _e,a7 as Je,aN as Ge,t as U,y as Xe,A as qe,P as Qe,I as we,B as Ze}from"./index.491723dd.js";import{v as et,k as tt,E as A,a as at}from"./el-icon.7d57c07f.js";import{f as ot,b as nt,d as ae}from"./runtime.d3cdd82d.js";import{u as st,i as xe,f as rt,g as lt,c as it,d as ut,V as ct}from"./index.a2b4812c.js";import{m as dt}from"./typescript.72bf8adc.js";import{d as Se}from"./error.7e8331f1.js";import{i as pt}from"./VSwitchButton.9de63556.js";const oe="update:modelValue",Ot="change",Ht="input",ft=a=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(a),mt=["class","style"],vt=/^on[A-Z]/,ht=(a={})=>{const{excludeListeners:l=!1,excludeKeys:n}=a,o=d(()=>((n==null?void 0:n.value)||[]).concat(mt)),r=$e();return r?d(()=>{var u;return ot(Object.entries((u=r.proxy)==null?void 0:u.$attrs).filter(([c])=>!o.value.includes(c)&&!(l&&vt.test(c))))}):d(()=>({}))};var yt={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const gt=a=>(l,n)=>bt(l,n,t(a)),bt=(a,l,n)=>Re(n,a,a).replace(/\{(\w+)\}/g,(o,r)=>{var u;return`${(u=l==null?void 0:l[r])!=null?u:`{${r}}`}`}),wt=a=>{const l=d(()=>t(a).name),n=Be(a)?a:k(a);return{lang:l,locale:n,t:gt(a)}},Kt=()=>{const a=Ae("locale");return wt(d(()=>a.value||yt))};function xt(a){const l=k();function n(){if(a.value==null)return;const{selectionStart:r,selectionEnd:u,value:c}=a.value;if(r==null||u==null)return;const y=c.slice(0,Math.max(0,r)),p=c.slice(Math.max(0,u));l.value={selectionStart:r,selectionEnd:u,value:c,beforeTxt:y,afterTxt:p}}function o(){if(a.value==null||l.value==null)return;const{value:r}=a.value,{beforeTxt:u,afterTxt:c,selectionStart:y}=l.value;if(u==null||c==null||y==null)return;let p=r.length;if(r.endsWith(c))p=r.length-c.length;else if(r.startsWith(u))p=u.length;else{const v=u[y-1],S=r.indexOf(v,y-1);S!==-1&&(p=S+1)}a.value.setSelectionRange(p,p)}return[n,o]}let g;const St=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Ct=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Et(a){const l=window.getComputedStyle(a),n=l.getPropertyValue("box-sizing"),o=Number.parseFloat(l.getPropertyValue("padding-bottom"))+Number.parseFloat(l.getPropertyValue("padding-top")),r=Number.parseFloat(l.getPropertyValue("border-bottom-width"))+Number.parseFloat(l.getPropertyValue("border-top-width"));return{contextStyle:Ct.map(c=>`${c}:${l.getPropertyValue(c)}`).join(";"),paddingSize:o,borderSize:r,boxSizing:n}}function Ce(a,l=1,n){var o;g||(g=document.createElement("textarea"),document.body.appendChild(g));const{paddingSize:r,borderSize:u,boxSizing:c,contextStyle:y}=Et(a);g.setAttribute("style",`${y};${St}`),g.value=a.value||a.placeholder||"";let p=g.scrollHeight;const v={};c==="border-box"?p=p+u:c==="content-box"&&(p=p-r),g.value="";const S=g.scrollHeight-r;if(ge(l)){let b=S*l;c==="border-box"&&(b=b+r+u),p=Math.max(b,p),v.minHeight=`${b}px`}if(ge(n)){let b=S*n;c==="border-box"&&(b=b+r+u),p=Math.min(b,p)}return v.height=`${p}px`,(o=g.parentNode)==null||o.removeChild(g),g=void 0,v}const kt=nt({id:{type:String,default:void 0},size:st,disabled:Boolean,modelValue:{type:ae([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ae([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:xe},prefixIcon:{type:xe},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ae([Object,Array,String]),default:()=>dt({})}}),It={[oe]:a=>q(a),input:a=>q(a),change:a=>q(a),focus:a=>a instanceof FocusEvent,blur:a=>a instanceof FocusEvent,clear:()=>!0,mouseleave:a=>a instanceof MouseEvent,mouseenter:a=>a instanceof MouseEvent,keydown:a=>a instanceof Event,compositionstart:a=>a instanceof CompositionEvent,compositionupdate:a=>a instanceof CompositionEvent,compositionend:a=>a instanceof CompositionEvent},Tt=["role"],Nt=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],Pt=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],Mt=Ee({name:"ElInput",inheritAttrs:!1}),Ft=Ee({...Mt,props:kt,emits:It,setup(a,{expose:l,emit:n}){const o=a,r=Oe(),u=He(),c=d(()=>{const e={};return o.containerRole==="combobox"&&(e["aria-haspopup"]=r["aria-haspopup"],e["aria-owns"]=r["aria-owns"],e["aria-expanded"]=r["aria-expanded"]),e}),y=ht({excludeKeys:d(()=>Object.keys(c.value))}),{form:p,formItem:v}=rt(),{inputId:S}=lt(o,{formItemContext:v}),b=it(),I=ut(),s=be("input"),ne=be("textarea"),B=Q(),T=Q(),M=k(!1),W=k(!1),F=k(!1),R=k(!1),se=k(),Y=Q(o.inputStyle),D=d(()=>B.value||T.value),re=d(()=>{var e;return(e=p==null?void 0:p.statusIcon)!=null?e:!1}),z=d(()=>(v==null?void 0:v.validateState)||""),le=d(()=>z.value&&ct[z.value]),ke=d(()=>R.value?et:tt),Ie=d(()=>[r.style,o.inputStyle]),ie=d(()=>[o.inputStyle,Y.value,{resize:o.resize}]),C=d(()=>pt(o.modelValue)?"":String(o.modelValue)),O=d(()=>o.clearable&&!I.value&&!o.readonly&&!!C.value&&(M.value||W.value)),_=d(()=>o.showPassword&&!I.value&&!o.readonly&&!!C.value&&(!!C.value||M.value)),N=d(()=>o.showWordLimit&&!!y.value.maxlength&&(o.type==="text"||o.type==="textarea")&&!I.value&&!o.readonly&&!o.showPassword),J=d(()=>Array.from(C.value).length),Te=d(()=>!!N.value&&J.value>Number(y.value.maxlength)),Ne=d(()=>!!u.suffix||!!o.suffixIcon||O.value||o.showPassword||N.value||!!z.value&&re.value),[Pe,Me]=xt(B);Ke(T,e=>{if(!N.value||o.resize!=="both")return;const i=e[0],{width:E}=i.contentRect;se.value={right:`calc(100% - ${E+15+6}px)`}});const H=()=>{const{type:e,autosize:i}=o;if(!(!Qe||e!=="textarea"))if(i){const E=we(i)?i.minRows:void 0,X=we(i)?i.maxRows:void 0;Y.value={...Ce(T.value,E,X)}}else Y.value={minHeight:Ce(T.value).minHeight}},V=()=>{const e=D.value;!e||e.value===C.value||(e.value=C.value)},G=async e=>{Pe();let{value:i}=e.target;if(o.formatter&&(i=o.parser?o.parser(i):i,i=o.formatter(i)),!F.value){if(i===C.value){V();return}n(oe,i),n("input",i),await L(),V(),Me()}},ue=e=>{n("change",e.target.value)},ce=e=>{n("compositionstart",e),F.value=!0},de=e=>{var i;n("compositionupdate",e);const E=(i=e.target)==null?void 0:i.value,X=E[E.length-1]||"";F.value=!ft(X)},pe=e=>{n("compositionend",e),F.value&&(F.value=!1,G(e))},Fe=()=>{R.value=!R.value,fe()},fe=async()=>{var e;await L(),(e=D.value)==null||e.focus()},De=()=>{var e;return(e=D.value)==null?void 0:e.blur()},me=e=>{M.value=!0,n("focus",e)},ve=e=>{var i;M.value=!1,n("blur",e),o.validateEvent&&((i=v==null?void 0:v.validate)==null||i.call(v,"blur").catch(E=>Se()))},ze=e=>{W.value=!1,n("mouseleave",e)},Ve=e=>{W.value=!0,n("mouseenter",e)},he=e=>{n("keydown",e)},Le=()=>{var e;(e=D.value)==null||e.select()},ye=()=>{n(oe,""),n("change",""),n("clear"),n("input","")};return Z(()=>o.modelValue,()=>{var e;L(()=>H()),o.validateEvent&&((e=v==null?void 0:v.validate)==null||e.call(v,"change").catch(i=>Se()))}),Z(C,()=>V()),Z(()=>o.type,async()=>{await L(),V(),H()}),je(()=>{!o.formatter&&o.parser,V(),L(H)}),l({input:B,textarea:T,ref:D,textareaStyle:ie,autosize:Ue(o,"autosize"),focus:fe,blur:De,select:Le,clear:ye,resizeTextarea:H}),(e,i)=>We((f(),w("div",te(t(c),{class:[e.type==="textarea"?t(ne).b():t(s).b(),t(s).m(t(b)),t(s).is("disabled",t(I)),t(s).is("exceed",t(Te)),{[t(s).b("group")]:e.$slots.prepend||e.$slots.append,[t(s).bm("group","append")]:e.$slots.append,[t(s).bm("group","prepend")]:e.$slots.prepend,[t(s).m("prefix")]:e.$slots.prefix||e.prefixIcon,[t(s).m("suffix")]:e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword,[t(s).bm("suffix","password-clear")]:t(O)&&t(_)},e.$attrs.class],style:t(Ie),role:e.containerRole,onMouseenter:Ve,onMouseleave:ze}),[m(" input "),e.type!=="textarea"?(f(),w(ee,{key:0},[m(" prepend slot "),e.$slots.prepend?(f(),w("div",{key:0,class:h(t(s).be("group","prepend"))},[K(e.$slots,"prepend")],2)):m("v-if",!0),P("div",{class:h([t(s).e("wrapper"),t(s).is("focus",M.value)])},[m(" prefix slot "),e.$slots.prefix||e.prefixIcon?(f(),w("span",{key:0,class:h(t(s).e("prefix"))},[P("span",{class:h(t(s).e("prefix-inner"))},[K(e.$slots,"prefix"),e.prefixIcon?(f(),x(t(A),{key:0,class:h(t(s).e("icon"))},{default:$(()=>[(f(),x(j(e.prefixIcon)))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0),P("input",te({id:t(S),ref_key:"input",ref:B,class:t(s).e("inner")},t(y),{type:e.showPassword?R.value?"text":"password":e.type,disabled:t(I),formatter:e.formatter,parser:e.parser,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,form:o.form,onCompositionstart:ce,onCompositionupdate:de,onCompositionend:pe,onInput:G,onFocus:me,onBlur:ve,onChange:ue,onKeydown:he}),null,16,Nt),m(" suffix slot "),t(Ne)?(f(),w("span",{key:1,class:h(t(s).e("suffix"))},[P("span",{class:h(t(s).e("suffix-inner"))},[!t(O)||!t(_)||!t(N)?(f(),w(ee,{key:0},[K(e.$slots,"suffix"),e.suffixIcon?(f(),x(t(A),{key:0,class:h(t(s).e("icon"))},{default:$(()=>[(f(),x(j(e.suffixIcon)))]),_:1},8,["class"])):m("v-if",!0)],64)):m("v-if",!0),t(O)?(f(),x(t(A),{key:1,class:h([t(s).e("icon"),t(s).e("clear")]),onMousedown:Je(t(Ge),["prevent"]),onClick:ye},{default:$(()=>[_e(t(at))]),_:1},8,["class","onMousedown"])):m("v-if",!0),t(_)?(f(),x(t(A),{key:2,class:h([t(s).e("icon"),t(s).e("password")]),onClick:Fe},{default:$(()=>[(f(),x(j(t(ke))))]),_:1},8,["class"])):m("v-if",!0),t(N)?(f(),w("span",{key:3,class:h(t(s).e("count"))},[P("span",{class:h(t(s).e("count-inner"))},U(t(J))+" / "+U(t(y).maxlength),3)],2)):m("v-if",!0),t(z)&&t(le)&&t(re)?(f(),x(t(A),{key:4,class:h([t(s).e("icon"),t(s).e("validateIcon"),t(s).is("loading",t(z)==="validating")])},{default:$(()=>[(f(),x(j(t(le))))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0)],2),m(" append slot "),e.$slots.append?(f(),w("div",{key:1,class:h(t(s).be("group","append"))},[K(e.$slots,"append")],2)):m("v-if",!0)],64)):(f(),w(ee,{key:1},[m(" textarea "),P("textarea",te({id:t(S),ref_key:"textarea",ref:T,class:t(ne).e("inner")},t(y),{tabindex:e.tabindex,disabled:t(I),readonly:e.readonly,autocomplete:e.autocomplete,style:t(ie),"aria-label":e.label,placeholder:e.placeholder,form:o.form,onCompositionstart:ce,onCompositionupdate:de,onCompositionend:pe,onInput:G,onFocus:me,onBlur:ve,onChange:ue,onKeydown:he}),null,16,Pt),t(N)?(f(),w("span",{key:0,style:Xe(se.value),class:h(t(s).e("count"))},U(t(J))+" / "+U(t(y).maxlength),7)):m("v-if",!0)],64))],16,Tt)),[[Ye,e.type!=="hidden"]])}});var Dt=qe(Ft,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const jt=Ze(Dt);export{Ot as C,jt as E,Ht as I,oe as U,Kt as u};
